import{a as K,b as U,c as W,d as X,e as Y,f as Z}from"./chunk-QCFUB3N5.js";import{a as g,b as G}from"./chunk-PTEO3V5N.js";import"./chunk-6PMISFED.js";import{Qa as J,j as V,k as F,l as P,m as A,n as $,o as Q,p as j,q as k,r as z,s as O,t as q,u as B}from"./chunk-ZH5GCQ5V.js";import{$ as x,Ab as L,Cc as H,Dc as N,Ea as _,Eb as n,Gb as p,Ka as w,Nb as I,Pa as m,Rb as R,_ as M,cb as c,db as a,eb as o,fb as u,jb as s,kb as d,la as C,mb as S,ob as b,qb as v,ub as y,vb as E,wb as T,ya as r}from"./chunk-3BHPJZ3H.js";import{a as D,b as h}from"./chunk-KAT7YFEL.js";var it=()=>[10,50,100];function ot(t,e){t&1&&(a(0,"th",17),n(1," Name "),o())}function at(t,e){if(t&1&&(a(0,"td",18),n(1),o()),t&2){let i=e.$implicit;r(),p(" ",i.name," ")}}function nt(t,e){t&1&&(a(0,"th",17),n(1," Phone "),o())}function rt(t,e){if(t&1&&(a(0,"td",18),n(1),o()),t&2){let i=e.$implicit;r(),p(" ",i.phone," ")}}function lt(t,e){t&1&&(a(0,"th",17),n(1," Registration Number "),o())}function mt(t,e){if(t&1&&(a(0,"td",18),n(1),o()),t&2){let i=e.$implicit;r(),p(" ",i.regNo," ")}}function ct(t,e){t&1&&(a(0,"th",17),n(1," Address "),o())}function st(t,e){if(t&1&&(a(0,"td",18),n(1),o()),t&2){let i=e.$implicit;r(),p(" ",i.address," ")}}function dt(t,e){t&1&&(a(0,"th",17),n(1," Action "),o())}function pt(t,e){if(t&1){let i=S();a(0,"td",18)(1,"button",19)(2,"mat-icon",20),n(3,"more_vert"),o()(),a(4,"mat-menu",21,0)(6,"button",22),b("click",function(){let f=M(i).$implicit,et=v();return x(et.editDoctor(f))}),n(7,"Edit"),o()()()}if(t&2){let i=L(5);r(),c("matMenuTriggerFor",i)}}function ft(t,e){t&1&&u(0,"tr",23)}function ut(t,e){t&1&&u(0,"tr",24)}var tt=class t{constructor(e,i){this.store=e;this.dialog=i;C(()=>{this.dataSource.data=this.doctors()})}displayedColumns=["name","phone","regNo","address","action"];dataSource=new B([]);paginator;doctors=R(()=>this.store.doctors());ngAfterViewInit(){this.dataSource.paginator=this.paginator}editDoctor(e){this.dialog.open(U,{data:h(D({},e),{type:"doctor"}),width:"26%",maxHeight:"70vh",autoFocus:!1,panelClass:"dialog-wrapper"}).afterClosed().subscribe(async l=>{l&&await this.store.updateDoctor(l)})}static \u0275fac=function(i){return new(i||t)(_(J),_(K))};static \u0275cmp=w({type:t,selectors:[["app-doctors-listing"]],viewQuery:function(i,l){if(i&1&&y(g,5),i&2){let f;E(f=T())&&(l.paginator=f.first)}},decls:25,vars:5,consts:[["menu","matMenu"],[1,"p-4","!pt-0","flex","flex-col","gap-4","h-full",2,"height","calc(100vh - 100px)"],[1,"flex","justify-between","items-center"],[1,"text-lg","font-semibold","pt-2"],[1,"flex","flex-col","bg-white","rounded","shadow-md","flex-1","overflow-hidden"],[1,"overflow-auto","flex-1"],["mat-table","",1,"w-full","mat-elevation-z2","rounded",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","phone"],["matColumnDef","regNo"],["matColumnDef","address"],["matColumnDef","action"],["mat-header-row","","class","!bg-gray-100 border-b !border-gray-300",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","",3,"matMenuTriggerFor"],[1,"mat-md-icon","material-symbols-outlined","text-primary"],[1,"action-panel"],["mat-menu-item","",3,"click"],["mat-header-row","",1,"!bg-gray-100","border-b","!border-gray-300"],["mat-row",""]],template:function(i,l){i&1&&(a(0,"div",1)(1,"div",2)(2,"div",3),n(3,"Doctors"),o()(),a(4,"div",4)(5,"div",5)(6,"table",6),s(7,7),m(8,ot,2,0,"th",8)(9,at,2,1,"td",9),d(),s(10,10),m(11,nt,2,0,"th",8)(12,rt,2,1,"td",9),d(),s(13,11),m(14,lt,2,0,"th",8)(15,mt,2,1,"td",9),d(),s(16,12),m(17,ct,2,0,"th",8)(18,st,2,1,"td",9),d(),s(19,13),m(20,dt,2,0,"th",8)(21,pt,8,1,"td",9),d(),m(22,ft,1,0,"tr",14)(23,ut,1,0,"tr",15),o()(),u(24,"mat-paginator",16),o()()),i&2&&(r(6),c("dataSource",l.dataSource),r(16),c("matHeaderRowDef",l.displayedColumns),r(),c("matRowDefColumns",l.displayedColumns),r(),c("pageSizeOptions",I(4,it)))},dependencies:[G,g,q,V,P,j,A,F,k,$,Q,z,O,N,H,Z,X,W,Y],encapsulation:2})};export{tt as DoctorsListing};
