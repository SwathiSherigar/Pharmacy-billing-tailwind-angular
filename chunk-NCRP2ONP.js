import{a as U,b as W,c as X,d as Y,e as Z}from"./chunk-M3TMFIZ2.js";import{a as g,b as G,e as J}from"./chunk-MAB43R7X.js";import"./chunk-6767QTPF.js";import{Qa as K,j as V,k as A,l as F,m as $,n as N,o as Q,p as j,q as k,r as z,s as O,t as q,u as B}from"./chunk-6DDDFETU.js";import{$ as C,Bb as T,Dc as R,Ea as _,Ec as H,Fb as o,Hb as p,Ka as b,Ob as L,Pa as m,Sb as I,_ as x,db as d,eb as n,fb as a,gb as u,kb as s,la as w,lb as c,nb as S,pb as v,rb as D,vb as y,wb as P,xb as E,ya as r}from"./chunk-5UZPQVKE.js";import{a as h,b as M}from"./chunk-KAT7YFEL.js";var it=()=>[10,50,100];function at(t,e){t&1&&(n(0,"th",17),o(1," Name "),a())}function nt(t,e){if(t&1&&(n(0,"td",18),o(1),a()),t&2){let i=e.$implicit;r(),p(" ",i.name," ")}}function ot(t,e){t&1&&(n(0,"th",17),o(1," Phone "),a())}function rt(t,e){if(t&1&&(n(0,"td",18),o(1),a()),t&2){let i=e.$implicit;r(),p(" ",i.phone," ")}}function lt(t,e){t&1&&(n(0,"th",17),o(1," Age "),a())}function mt(t,e){if(t&1&&(n(0,"td",18),o(1),a()),t&2){let i=e.$implicit;r(),p(" ",i.age," ")}}function dt(t,e){t&1&&(n(0,"th",17),o(1," Address "),a())}function st(t,e){if(t&1&&(n(0,"td",18),o(1),a()),t&2){let i=e.$implicit;r(),p(" ",i.address," ")}}function ct(t,e){t&1&&(n(0,"th",17),o(1," Action "),a())}function pt(t,e){if(t&1){let i=S();n(0,"td",18)(1,"button",19)(2,"mat-icon",20),o(3,"more_vert"),a()(),n(4,"mat-menu",21,0)(6,"button",22),v("click",function(){let f=x(i).$implicit,et=D();return C(et.editPatient(f))}),o(7,"Edit"),a()()()}if(t&2){let i=T(5);r(),d("matMenuTriggerFor",i)}}function ft(t,e){t&1&&u(0,"tr",23)}function ut(t,e){t&1&&u(0,"tr",24)}var tt=class t{constructor(e,i){this.dialog=e;this.store=i;w(()=>{this.dataSource.data=this.patients()})}displayedColumns=["name","phone","age","address","action"];dataSource=new B([]);paginator;patients=I(()=>this.store.patients());ngAfterViewInit(){this.dataSource.paginator=this.paginator}editPatient(e){this.dialog.open(U,{data:M(h({},e),{type:"patient"}),width:"26%",maxHeight:"70vh",autoFocus:!1,panelClass:"dialog-wrapper"}).afterClosed().subscribe(async l=>{l&&await this.store.updatePatient(l)})}static \u0275fac=function(i){return new(i||t)(_(J),_(K))};static \u0275cmp=b({type:t,selectors:[["app-patient-listing"]],viewQuery:function(i,l){if(i&1&&y(g,5),i&2){let f;P(f=E())&&(l.paginator=f.first)}},decls:25,vars:5,consts:[["menu","matMenu"],[1,"p-4","!pt-0","flex","flex-col","gap-4","h-full",2,"height","calc(100vh - 100px)"],[1,"flex","justify-between","items-center"],[1,"text-lg","font-semibold","pt-2"],[1,"flex","flex-col","bg-white","rounded","shadow-md","flex-1","overflow-hidden"],[1,"overflow-auto","flex-1"],["mat-table","",1,"w-full","mat-elevation-z2","rounded",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","phone"],["matColumnDef","age"],["matColumnDef","address"],["matColumnDef","action"],["mat-header-row","","class","!bg-gray-100 border-b !border-gray-300",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","",3,"matMenuTriggerFor"],[1,"mat-md-icon","text-primary","material-symbols-outlined"],["xPosition","before",1,"action-panel"],["mat-menu-item","","color","primary",3,"click"],["mat-header-row","",1,"!bg-gray-100","border-b","!border-gray-300"],["mat-row",""]],template:function(i,l){i&1&&(n(0,"div",1)(1,"div",2)(2,"div",3),o(3,"Patients"),a()(),n(4,"div",4)(5,"div",5)(6,"table",6),s(7,7),m(8,at,2,0,"th",8)(9,nt,2,1,"td",9),c(),s(10,10),m(11,ot,2,0,"th",8)(12,rt,2,1,"td",9),c(),s(13,11),m(14,lt,2,0,"th",8)(15,mt,2,1,"td",9),c(),s(16,12),m(17,dt,2,0,"th",8)(18,st,2,1,"td",9),c(),s(19,13),m(20,ct,2,0,"th",8)(21,pt,8,1,"td",9),c(),m(22,ft,1,0,"tr",14)(23,ut,1,0,"tr",15),a()(),u(24,"mat-paginator",16),a()()),i&2&&(r(6),d("dataSource",l.dataSource),r(16),d("matHeaderRowDef",l.displayedColumns),r(),d("matRowDefColumns",l.displayedColumns),r(),d("pageSizeOptions",L(4,it)))},dependencies:[q,V,F,j,$,A,k,N,Q,z,O,G,g,H,R,Z,X,W,Y],encapsulation:2})};export{tt as PatientListing};
